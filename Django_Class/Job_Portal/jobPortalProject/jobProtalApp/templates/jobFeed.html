{% extends 'master.html' %}

{% block body %}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

<style>
.job-card {
  max-width: 800px;
  margin: 30px auto;
  border: none;
  border-radius: 0.75rem;
  box-shadow: 0 0 25px rgba(0,0,0,0.05);
}
.job-card .card-body {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
}
.job-card img {
  width: 80px;
  height: 80px;
  object-fit: cover;
}
.job-info {
  flex: 1;
  min-width: 200px;
}
.job-title {
  font-size: 1.25rem;
  font-weight: 600;
}
.company-name {
  font-weight: 500;
}
.badge-jobtype {
  font-size: 0.85rem;
}
.action-buttons .btn {
  margin-right: 0.5rem;
}
</style>

{% for feed in feeds %}
<div class="card job-card">
  <div class="card-body">
    <img src="/{{ feed.CompanyLogo }}" alt="Logo" class="rounded me-3">

    <div class="job-info">
      <div class="job-title">{{ feed.JobTitle }}</div>
      <div class="company-name text-muted">{{ feed.Created_By }}</div>
      {% if feed.JobType %}
        <span class="badge bg-success badge-jobtype">{{ feed.JobType }}</span>
      {% endif %}
      {% if feed.Location %}
        <div class="text-muted mt-1"><i class="bi bi-geo-alt"></i> {{ feed.Location }}</div>
      {% endif %}
      <p class="mt-2 mb-0">{{ feed.JobDescription|truncatewords:15 }}</p>
    </div>

    <div class="d-flex flex-column ms-auto action-buttons">
      <a href="" class="btn btn-outline-primary btn-sm mb-2">
        <i class="bi bi-eye"></i> View
      </a>
      <a href="" class="btn btn-outline-warning btn-sm mb-2 text-dark">
        <i class="bi bi-pencil"></i> Edit
      </a>
      <a href="" class="btn btn-outline-danger btn-sm">
        <i class="bi bi-trash"></i> Delete
      </a>
    </div>
  </div>
</div>
{% endfor %}

{% endblock %}
